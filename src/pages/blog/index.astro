---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const allBlogPosts = await getCollection("blog");
---

<BaseLayout
title="kotogavr blog posts"
description="I'm an Indie Maker and full-stack developer with-no-matter-how-much of expereince. I build on Ruby on Rails, Web3 / Web2 and everything in between">
  <main>
  <h1 class="text-2xl font-bold text-neutral-100 py-10">Posts</h1>
    {
      allBlogPosts.map((post) => (
        <article class="flex flex-col gap-4">
          <>
            <a
              class="group flex flex-col gap-2 border-t border-neutral-700 py-4 transition-all hover:text-neutral-100"
              href=`blog/${post.slug}`
            >
              <div class="flex w-full items-center justify-between">
                <h2 class="text-lg  text-muted-foreground group-hover:text-white">{post.data.title}</h2>

                <div class="flex flex-row items-center gap-4 text-muted-foreground group-hover:text-white">
                  <p>{post.data.publishDate}</p>
                  <svg
                    width="18"
                    height="18"
                    viewBox="0 0 18 18"
                    fill="none"
                    class="transition-all duration-300 group-hover:translate-x-1"
                  >
                    <path
                      d="M5.25 12.75L12.75 5.25"
                      stroke="#999999"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M5.25 5.25H12.75V12.75"
                      stroke="#999999"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </div>
              </div>
              <p class="text-muted-foreground group-hover:text-white">{post.data.description}</p>
            </a>
          </>
        </article>
      ))
    }
  </main>
</BaseLayout>
